# Recall v0.6 — 2025-09-01

**Summary**  
V0.6 起始版本，開啟 Echo 生產與使用管線。完成 EchoStore、EchoPanel UI、EchoIntent 基本流程。Recall 僅支援 1L（單動作）生成 Echo，完整配方規則待後續擴充。

## Changed
- 新增 **Echo 系統雛型**：
  - `Echo` 類別：Id/Name/RecipeLabel/Summary/CostAP/Op/TargetType。
  - `EchoStore`：固定 5 格，滿格回 `FailCode.EchoSlotsFull`，消耗後左移補空。
- 新增 **EchoIntent** 型別，Translator 已能識別。
- `Combat.TryRunEcho` 入口建立，Play Echo 能觸發。
- `EchoPanel.tscn` + `EchoPanel.cs`：
  - 5 槽位按鈕，顯示 Echo 資訊。
  - Play/Cancel 操作；成功執行 Echo → 移除槽位。

## Refactor
- RecallIntent 翻譯 (`TranslateRecallIntentInternal`) 改為 **僅支援 1L**。
- Recall 生成 Echo 的動作延後到 **Pipeline Commit 階段**，避免中途失敗導致狀態不一致。

## Build & Test
- 已能測試：
  - Basic 行動（A/B/C） → AP 正確消耗。
  - Debug Echo 使用 → 槽位消除、UI 更新正確。
  - 無 AP 時 Echo 顯示 `NoAP`，不可執行。
- 槽位 UI 行為：前密後空，移除後正確左移補位。

## Compatibility
- Echo 目前僅允許 A/B/C/CA，Recipe 規則未實裝。
- Recall → Echo 僅限單一 index（1L）；多步配方尚未支援。

## Known Issues
- Recipe 系統尚未定義；`CA` 僅暫存於 Debug Echo。
- Recall AP 消耗與回滾機制需進一步整合。
- Commit 階段需補充 `FailCode` 邏輯（滿槽、目標錯誤）。
- 多步 Recipe（CA 以上）待後續版本設計。
